# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           golang 1.0

go.setup            github.com/tfsec/tfsec 0.39.37 v
revision            0

description         Security scanner for your Terraform code

long_description    {*}${description}. tfsec uses static analysis of your \
                    Terraform templates to spot potential security issues.

categories          security sysutils
maintainers         {gmail.com:herby.gillot @herbygillot} \
                    openmaintainer
license             MIT
platforms           darwin
installs_libs       no

build.env-append    TRAVIS_TAG=${version}
build.cmd           make
build.target        build

patch {
    # Delete lines building for Linux or Windows
    reinplace -E {/GOOS=(linux|windows)/ d} ${worksrcpath}/scripts/build.sh
}

destroot {
    foreach tfsec_build_bin [glob ${worksrcpath}/bin/${os.platform}/*] {
        set tfsec_install_bin \
            [file tail [strsed $tfsec_build_bin s/-${os.platform}-${goarch}//]]
        xinstall -m 0755 ${tfsec_build_bin} ${destroot}${prefix}/bin/${tfsec_install_bin}
    }
}

github.tarball_from archive

checksums           ${distname}${extract.suffix} \
                        rmd160  bbe1b4922ee3e408329340f0fb424c5c39c09984 \
                        sha256  08f9846770c78cd2b7d77dc67896ca721ccb17bcb3a1ef0d3529699be76b6059 \
                        size    4139384

go.vendors          gopkg.in/yaml.v3 \
                        lock    9f266ea9e77c \
                        rmd160  06dca2ede07b2f31c515b4711fbebc1d5359b5e4 \
                        sha256  e70dd42fb30b7b2d0129c5cdf0e079caaf5602cab24081fdac830ec01204fa59 \
                        size    86890 \
                    gopkg.in/yaml.v2 \
                        lock    v2.4.0 \
                        rmd160  66e9feb7944b3804efa63155ed9b618717b8955c \
                        sha256  72812077e7f20278003de6ab0d85053d89131d64c443f39115a022114fd032b6 \
                        size    73231 \
                    gopkg.in/check.v1 \
                        lock    8fa46927fb4f \
                        rmd160  c84f37dc900224c5e9e6e16ed5acc0d625583bc1 \
                        sha256  c41439b343f3fc3c0b6f943b4aae642f10f19451e945c23dfb324c9c8f87d0b7 \
                        size    31616 \
                    golang.org/x/xerrors \
                        lock    5ec99f83aff1 \
                        rmd160  6e8267f353e153297f205e4be219236d6ae43880 \
                        sha256  9a500a49d83a09e7de6c71b215d1c14b81e315d26884530ef327c95ddf1f2d28 \
                        size    13667 \
                    golang.org/x/text \
                        lock    v0.3.5 \
                        rmd160  2bc41a433ef7cbbf321afed39256a65d43ef3c8b \
                        sha256  148ec80befd0392454a5d7756abcebeb74f863e6e4b1e1ff63bbe06c2b49e120 \
                        size    8349629 \
                    golang.org/x/term \
                        lock    2321bbc49cbf \
                        rmd160  94c32506cb76cee410574c49d6b4cfe294a8159d \
                        sha256  3bf7b61de210c621fb70e697c0020789bfbe426754d0f743978e77f84a7472f1 \
                        size    15286 \
                    golang.org/x/sys \
                        lock    f84b799fce68 \
                        rmd160  7c2bf3dcd2b38950447af1105a6417de5b0a51d2 \
                        sha256  f1f9c7d245ab11f81ee400be9a33b5a85de6c81d3d40604e64262701748adbb0 \
                        size    1087929 \
                    golang.org/x/crypto \
                        lock    0c34fe9e7dc2 \
                        rmd160  1dce07211f26961ec475d1cb7d55265d29764c41 \
                        sha256  8fbb5b6a248a0d2a4563341104b293e8ca73a4bcceed9f5e9b59d8bb65bf4713 \
                        size    1726100 \
                    github.com/zclconf/go-cty-yaml \
                        lock    v1.0.2 \
                        rmd160  8ae30ebd4d5543576bba88a1bd4c01e775590062 \
                        sha256  6b2bd1b7109634c0a9819317876a1381a2a916fb83bae79c17ab312e2059e61b \
                        size    59452 \
                    github.com/zclconf/go-cty \
                        lock    v1.8.3 \
                        rmd160  9a042afd1475dd4e26578f30174949db04cf933b \
                        sha256  94f5115a67614662accad2b2ccc21d0ec00431d41033ee170f37aebe903411eb \
                        size    195442 \
                    github.com/stretchr/testify \
                        lock    v1.7.0 \
                        rmd160  adae5096e8c4cfcc8e3f6d096646d1165b5ef49a \
                        sha256  f7dde97d0c9634483ae6ea273968f80f3105c22382a1f841886cd20d57586642 \
                        size    91096 \
                    github.com/spf13/pflag \
                        lock    v1.0.5 \
                        rmd160  2ce81608a38c6f383a35bccd24d64361df5828c9 \
                        sha256  7f41acdcba65b1fab5b9b633947a139f9915b60f94bdab486cdbe9d90c54f61e \
                        size    50815 \
                    github.com/spf13/cobra \
                        lock    v1.1.3 \
                        rmd160  d9647d9a480ffb4d35ef6602c05cae452dcf30f9 \
                        sha256  433b6fbdec0dc61ab23a2be8e7f004ff5608ba0778d4b4ede438f6d1227adb77 \
                        size    146625 \
                    github.com/rivo/uniseg \
                        lock    v0.2.0 \
                        rmd160  33577def583aa2db50b69ca601e5d29ab201ebc4 \
                        sha256  2832965221246272462a03ffc8e159c94d8f534827f660f1ac4fc77e5ccd644c \
                        size    44037 \
                    github.com/pmezard/go-difflib \
                        lock    v1.0.0 \
                        rmd160  fc879bfbdef9e3ff50844def58404e2b5a613ab8 \
                        sha256  7cd492737641847266115f3060489a67f63581e521a8ec51efbc280c33fc991f \
                        size    11409 \
                    github.com/pkg/term \
                        lock    aa71e9d9e942 \
                        rmd160  8329f2d607e0926bb679c2af74f7a5b0ec50aaa8 \
                        sha256  c820baf08d8f0932f97160e7e62201a9b2e5b1ef79ae4ef6b8d4c32d676df5f4 \
                        size    9498 \
                    github.com/owenrumney/go-sarif \
                        lock    v1.0.4 \
                        rmd160  afe438fc41c4b92ec1f918111a754111aaec7af0 \
                        sha256  8e4f59a1773cc090481815633d0a94c02f99db075eea6bf133057e38fc75dd0d \
                        size    15721 \
                    github.com/olekukonko/tablewriter \
                        lock    v0.0.5 \
                        rmd160  aa952a560c3aa5102bfb3e55f12facf048379adf \
                        sha256  830bdee7f05aa76353c113075a864359762a502c6d6a1f72bfb7055247c0539b \
                        size    19579 \
                    github.com/niemeyer/pretty \
                        lock    a10e7caefd8e \
                        rmd160  46bcfc3db9e3d98acbacd1f96d9483fa360f88b7 \
                        sha256  97b952a32175ba84349ef352e523bfa15bf3a06e07e44458a908061fbc519b40 \
                        size    9405 \
                    github.com/mitchellh/go-wordwrap \
                        lock    v1.0.0 \
                        rmd160  9019795baad40dfcaa09ac4b45a8ebc3ff13b6f0 \
                        sha256  319bf49230fa54f8cf5f18cbfcf5f22fca4aae90a517c77ae5d1fbb13684afa5 \
                        size    2781 \
                    github.com/mitchellh/go-homedir \
                        lock    v1.1.0 \
                        rmd160  44b3985e40e5bbb22d11f8622c340f9ed727ea91 \
                        sha256  024c8a57316c7fbc0eb23cdbfd57f72a74b51beb83d714034d67ee9aba48100c \
                        size    3366 \
                    github.com/mattn/go-runewidth \
                        lock    v0.0.12 \
                        rmd160  56fc1bfe9eb51e2c283d005ac369b3757ecae355 \
                        sha256  63f20c04796f9f991a67f7ccf0e09c418b8e454d5cbd424943a5ade2f0065e6e \
                        size    17358 \
                    github.com/liamg/tml \
                        lock    v0.4.0 \
                        rmd160  f86836559fed231e52e797e00a021c97bbcf09a1 \
                        sha256  a1afccff683798ff9eb89a8b72ee3cfe0b9fa1c1c6a7b14b889c1612132248ca \
                        size    24012 \
                    github.com/liamg/clinch \
                        lock    v1.5.6 \
                        rmd160  ad17c923537d6ad109bd86000e834c5694cd5c31 \
                        sha256  3f7e5572203c7f120305f7db39cc7774aac9b82c5a8348d3f32115ff2623f989 \
                        size    4964826 \
                    github.com/kylelemons/godebug \
                        lock    v1.1.0 \
                        rmd160  917ada648e70d2e339b8ff36d2f86882d0d2efa1 \
                        sha256  6151c487936ab72cffbf804626228083c9b3abfc908a2bb41b1160e1e5780aaf \
                        size    17641 \
                    github.com/kr/text \
                        lock    v0.1.0 \
                        rmd160  0b3c78459e227170a3b80a0103d87a3eef77ed88 \
                        sha256  5ed970aad0da3cba3cffacdb4d154a162a8968655ee6d6f7b627e71b869efaf6 \
                        size    8691 \
                    github.com/kr/pretty \
                        lock    v0.1.0 \
                        rmd160  9aa7a5aad4c48840eecfd0f80186d1fb5ded0fd6 \
                        sha256  f6c3f89667c63e5b7f1fc6ee2c06b6a6bfdce88f3a965ccd395b64c6f95c9a47 \
                        size    8553 \
                    github.com/inconshreveable/mousetrap \
                        lock    v1.0.0 \
                        rmd160  5c617a09f1432fc543672a0e0c1e13d3752030c2 \
                        sha256  0e6bae2849f13d12fe361ecac087728e4e97f3482f4cec44f6e7a2c53bb9cd0c \
                        size    2291 \
                    github.com/hashicorp/terraform \
                        lock    v0.15.3 \
                        rmd160  eb6dfb51bada2ddceddde52c50460ebad7fbb5b6 \
                        sha256  f1b1fcb0c58984612cce52a369f0794086f9cc2280f3285a9b65b4fdfdc5e9fc \
                        size    2855436 \
                    github.com/hashicorp/hcl \
                        lock    v2.10.0 \
                        rmd160  c60fee6dbc7e43b4f66d3ba195cb64c4a7b41a25 \
                        sha256  f2f1d4738afb7cac8d3aa2f27cc90e6e0c34d7f6ae6889bc4391ee6c9c43018e \
                        size    402138 \
                    github.com/hashicorp/go-uuid \
                        lock    v1.0.1 \
                        rmd160  d0c4a2e7216c1afccbfce3094b53574f66aad0b1 \
                        sha256  da0b9cf0aa9e613a8f0878cf43fc2c16eaab83b6dad2c1f0d31221764d2d8aef \
                        size    6848 \
                    github.com/hashicorp/go-multierror \
                        lock    v1.1.1 \
                        rmd160  94493cc3074dc39be0de76f04fa2a44a405d0a42 \
                        sha256  52e986cca6d6335bfcd23b4867f884311cfb5ca060325496b6692029797d64e2 \
                        size    13805 \
                    github.com/hashicorp/errwrap \
                        lock    v1.1.0 \
                        rmd160  25e655fc958685dd949900eea8c3d97f33d85eab \
                        sha256  f3e47c96ca16c7360f7d3fd3a57d8861be5835a5d5a9d9d1dc2ec10ae4a1208d \
                        size    8586 \
                    github.com/google/uuid \
                        lock    v1.2.0 \
                        rmd160  9717876312bfbe146a478d24bdb41bf8bb4a6ade \
                        sha256  ddfae8a6ac3b56a02db288778b424a123c14efe44cdab70e4bab0b1e6dd13114 \
                        size    14154 \
                    github.com/google/go-cmp \
                        lock    v0.5.2 \
                        rmd160  5021dfa1c1da165c38f7a1a0b78794204233735f \
                        sha256  6631e46f37f68fde3c411c90e9b9186526903a2123222f08de658547b1caafca \
                        size    99774 \
                    github.com/go-test/deep \
                        lock    v1.0.3 \
                        rmd160  b5e4d8728c1962e842050c2c1ec3e444ff70bc34 \
                        sha256  360f6729992ab7abe2c4faf9632be19a28e7f33342c2896e1262b96631bde2aa \
                        size    8632 \
                    github.com/davecgh/go-spew \
                        lock    v1.1.1 \
                        rmd160  7c02883aa81f81aca14e13a27fdca9e7fbc136f7 \
                        sha256  e85d6afa83e64962e0d63dd4812971eccf2b9b5445eda93f46a4406f0c177d5f \
                        size    42171 \
                    github.com/bmatcuk/doublestar \
                        lock    v1.1.5 \
                        rmd160  87a0214adaedc836c45ddc32ecb8c3baa7d8777a \
                        sha256  8aa259fe4ad57800b070c9d69902511bf0c9f90ab3e39a8acb3740a4504c692a \
                        size    8726 \
                    github.com/apparentlymart/go-textseg \
                        lock    v13.0.0 \
                        rmd160  01f8859745d923632c770d43d71210dd5eb50110 \
                        sha256  7fd18dca9f1eb4b28b018c058cda0204d51b4454b1c595789d17197cee4b0fc0 \
                        size    133866 \
                    github.com/apparentlymart/go-cidr \
                        lock    v1.1.0 \
                        rmd160  4cd9559c26a93768034ff390ea4839a829ca70e3 \
                        sha256  611e1aa9f7bb616598fa0d333a4f997aca1868a272f005d65842745ff35221b4 \
                        size    6240 \
                    github.com/agext/levenshtein \
                        lock    v1.2.2 \
                        rmd160  43d4530cd4150510224aab964a8ff5959e2c3973 \
                        sha256  b92ec48f119fcde6b309139499b3395f1e2616edf62399d1d68fe22e63a2a095 \
                        size    13106

